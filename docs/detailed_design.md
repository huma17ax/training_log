# トレーニングログアプリケーション 詳細設計書

## 1. システム概要

### 1.1 目的

トレーニングの記録を管理し、進捗を可視化するWebアプリケーション

### 1.2 技術スタック

- フロントエンド: Vue.js 3 (Composition API)
- 状態管理: Pinia
- グラフ描画: Chart.js + vue-chartjs
- ビルドツール: Vite
- 言語: TypeScript
- テスト: Vitest
- コード品質: ESLint, Prettier

## 2. システム構成

### 2.1 ディレクトリ構造

src/
├── assets/ # 静的リソース
├── components/ # 共通コンポーネント
├── views/ # ページコンポーネント
├── stores/ # Piniaストア
├── types/ # 型定義
├── utils/ # ユーティリティ関数
└── router/ # ルーティング設定

### 2.2 主要コンポーネント

#### トレーニングログ

- トレーニングログの入力フォーム
- 日付、種目、セット数、重量、回数の記録

#### トレーニング履歴

- 過去のトレーニング記録の表示
- フィルタリング機能

#### 進捗チャート

- トレーニング進捗のグラフ表示
- 種目ごとの重量推移
- 月間トレーニング回数

## 3. データモデル

### 3.1 トレーニングログ

- ID: 一意の識別子
- 日付: トレーニング実施日
- 種目: トレーニング種目
- セット情報: 重量、回数、セット番号の配列
- メモ: オプションのメモ欄

### 3.2 種目マスター

- ID: 一意の識別子
- 名前: 種目名
- カテゴリ: ウェイト/有酸素/自重
- ターゲット部位: 対象となる筋肉群

## 4. 状態管理

### 4.1 トレーニングストア

#### 状態

- トレーニングログ一覧
- 種目マスター一覧
- 選択中の日付

#### 主要な操作

- トレーニングログの追加
- トレーニングログの更新
- トレーニングログの削除
- トレーニングログの取得

## 5. 主要機能詳細

### 5.1 トレーニングログ入力

1. 入力フォームの表示/非表示を切り替え
   - デフォルトでは非表示
   - 「記録を追加」ボタンをクリックで表示
   - フォーム送信後に自動的に非表示
2. 日付選択（デフォルトは当日）
3. 種目選択（プリセットから選択または新規追加）
4. セット情報入力（重量、回数）
5. メモ入力（オプション）
6. 保存処理

### 5.2 トレーニング履歴表示

1. カレンダー形式での表示
2. リスト形式での表示
3. 種目別フィルタリング
4. 期間指定フィルタリング

### 5.3 進捗グラフ

1. 種目ごとの最大重量推移
2. 月間トレーニング頻度
3. 部位別トレーニング比率

## 6. テスト計画

### 6.1 単体テスト

- コンポーネントのレンダリングテスト
- ストアのアクションテスト
- ユーティリティ関数のテスト

### 6.2 統合テスト

- フォーム入力からデータ保存までのフロー
- フィルタリング機能の動作確認
- グラフ描画の正確性

## 7. 非機能要件

### 7.1 パフォーマンス

- 初期読み込み時間: 2秒以内
- データ保存レスポンス: 1秒以内

### 7.2 ブラウザ対応

- モダンブラウザ（Chrome, Firefox, Safari, Edge）の最新2バージョン

### 7.3 レスポンシブ対応

- デスクトップ（1200px以上）
- タブレット（768px-1199px）
- モバイル（767px以下）
